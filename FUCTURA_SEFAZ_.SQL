CREATE TABLE TB_USERS (
CPF VARCHAR(14) NOT NULL,
EMAIL VARCHAR(40) NOT NULL,
PASSWORD VARCHAR(40) NOT NULL,
NAME VARCHAR(40),
PRIMARY KEY(CPF));

CREATE TABLE TB_VEHICLE (
BRAND VARCHAR(20),
MODELNAME VARCHAR(20) NOT NULL,
LICENSE VARCHAR(8) NOT NULL,
NICK_NAME VARCHAR(40),
CPF_USER VARCHAR(14) NOT NULL,
PRIMARY KEY (LICENSE));

CREATE TABLE TB_PART (
ID NUMBER NOT NULL,
NAME VARCHAR(40) NOT NULL,
PRICE FLOAT(10),
REPLACEDDATE DATE,
LICENSE_VEHICLE VARCHAR(8) NOT NULL,
PRIMARY KEY (ID));

ALTER TABLE TB_VEHICLE
ADD FOREIGN KEY (CPF_USER)
REFERENCES TB_USER(CPF);

ALTER TABLE TB_PART
ADD FOREIGN KEY (LICENSE_VEHICLE)
REFERENCES TB_VEHICLE (LICENSE);

CREATE OR REPLACE TRIGGER TABELA_TO_UPPER 
before INSERT OR UPDATE OF EMAIL ON TB_USER
for each row
BEGIN
  :new.email := lower(:new.email);
 END;

CREATE OR REPLACE TRIGGER VEHICLE_TO_UPPER 
before INSERT OR UPDATE OF LICENSE ON TB_VEHICLE
for each row
BEGIN
    :new.license := upper(:new.license);
END;

CREATE OR REPLACE TRIGGER PART_TO_UPPER 
before INSERT OR UPDATE OF NAME, LICENSE_VEHICLE ON TB_PART
for each row
BEGIN
    :new.license_vehicle := upper(:new.license_vehicle);
END;